!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("xterm"),require("xterm/lib/addons/fit/fit"),require("rxjs"),require("angular-resizable-element"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng-terminal",["exports","@angular/core","xterm","xterm/lib/addons/fit/fit","rxjs","angular-resizable-element","@angular/common"],t):t((e=e||self)["ng-terminal"]={},e.ng.core,e.xterm,e.fit$1,e.rxjs,e.angularResizableElement,e.ng.common)}(this,function(e,t,n,i,r,o,s){"use strict";var u=function(){function e(){}return e.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[]},e.ngInjectableDef=t.defineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e}(),a=function(){function e(){this.keyInputSubject=new r.Subject,this.keyEventSubject=new r.Subject,this.h=Math.max(document.documentElement.clientHeight,window.innerHeight||0),this.displayOption={},this.terminalStyle={},this.keyInputEmitter=new t.EventEmitter,this.keyEventEmitter=new t.EventEmitter}return Object.defineProperty(e.prototype,"_dataSource",{get:function(){return this.dataSource},set:function(e){var t=this;null!=this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.dataSource=e,this.dataSourceSubscription=this.dataSource.subscribe(function(e){t.write(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_displayOption",{set:function(e){this.setDisplayOption(e)},enumerable:!0,configurable:!0}),e.prototype.observableSetup=function(){var e=this;this.term.on("data",function(t){e.keyInputSubject.next(t)}),this.term.onKey(function(t){e.keyEventSubject.next(t)}),this.keyInputSubjectSubscription=this.keyInputSubject.subscribe(function(t){e.keyInputEmitter.emit(t)}),this.keyEventSubjectSubscription=this.keyEventSubject.subscribe(function(t){e.keyEventEmitter.emit(t)})},e.prototype.setTerminalBlock=function(e){this.terminalStyle.display=e?"block":"inline-block"},e.prototype.setTerminalDimension=function(e,t,n,i){this.terminalStyle.left=e+"px",this.terminalStyle.top=t+"px",this.terminalStyle.width=n+"px",this.terminalStyle.height=i+"px"},e.prototype.removeTerminalDimension=function(){this.terminalStyle.left=void 0,this.terminalStyle.top=void 0,this.terminalStyle.width=void 0,this.terminalStyle.height=void 0},e.prototype.ngAfterViewChecked=function(){null==this.displayOption.fixedGrid&&i.fit(this.term)},e.prototype.ngOnInit=function(){n.Terminal.applyAddon(i),this.term=new n.Terminal,this.term.open(document.getElementById("terminal")),this.observableSetup()},e.prototype.ngOnDestroy=function(){this.keyInputSubjectSubscription&&this.keyInputSubjectSubscription.unsubscribe(),this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.keyEventSubjectSubscription&&this.keyEventSubjectSubscription.unsubscribe()},e.prototype.write=function(e){this.term.write(e)},e.prototype.setDisplayOption=function(e){null!=e.fixedGrid?(console.debug("resizable will be ignored."),this.term.resize(e.fixedGrid.cols,e.fixedGrid.rows),this.setTerminalBlock(!1),this.removeTerminalDimension()):(this.removeTerminalDimension(),this.setTerminalBlock(!0)),this.displayOption=e},Object.defineProperty(e.prototype,"keyInput",{get:function(){return this.keyInputSubject},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyEventInput",{get:function(){return this.keyEventSubject},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"underlying",{get:function(){return this.term},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDraggableOnEdgeActivated",{get:function(){return null!=this.displayOption.activateDraggableOnEdge&&null==this.displayOption.fixedGrid},enumerable:!0,configurable:!0}),e.prototype.onResizeEnd=function(e,t,n,i){this.setTerminalDimension(e,t,n,i)},e.prototype.validatorFactory=function(){var e=this;return function(t){var n=e.displayOption;if(n.activateDraggableOnEdge){t.rectangle.left,t.rectangle.top;var i=t.rectangle.width,r=t.rectangle.height;return!(i<n.activateDraggableOnEdge.minWidth||r<n.activateDraggableOnEdge.minHeight)}}},e.decorators=[{type:t.Component,args:[{selector:"ng-terminal",template:'<global-style></global-style>\r\n\r\n<div id="terminal" class="terminal-outer" mwlResizable [ngStyle]="terminalStyle" [validateResize]="validatorFactory()" [enableGhostResize]="true" [resizeEdges]="isDraggableOnEdgeActivated ? {bottom: true, right: true} : {bottom: false, right: false}"\r\n(resizeEnd)="onResizeEnd($event.rectangle.left, $event.rectangle.top, $event.rectangle.width, $event.rectangle.height)">\r\n</div>',styles:[".terminal-outer{box-sizing:border-box;border:3px solid #429bf4;height:100%}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={_dataSource:[{type:t.Input,args:["dataSource"]}],_displayOption:[{type:t.Input,args:["displayOption"]}],keyInputEmitter:[{type:t.Output,args:["keyInput"]}],keyEventEmitter:[{type:t.Output,args:["keyEvent"]}]},e}();var l=function(){function e(){}return e.prototype.ngOnInit=function(){},e.decorators=[{type:t.Component,args:[{selector:"global-style",template:"",encapsulation:t.ViewEncapsulation.None,styles:['.xterm{-webkit-font-feature-settings:"liga" 0;font-feature-settings:"liga" 0;position:relative;-moz-user-select:none;user-select:none;-ms-user-select:none;-webkit-user-select:none;cursor:text}.xterm.focus,.xterm:focus{outline:0}.xterm .xterm-helpers{position:absolute;top:0;z-index:10}.xterm .xterm-helper-textarea{position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-10;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;right:0;left:0;top:0;bottom:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility,.xterm .xterm-message{position:absolute;left:0;top:0;bottom:0;right:0;z-index:100;color:transparent}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:.5}.xterm-underline{text-decoration:underline}']}]}],e.ctorParameters=function(){return[]},e}(),c=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[a,l],imports:[o.ResizableModule,s.CommonModule],exports:[a]}]}],e}(),p=function(){function e(){}return e.insertBlank=function(e){return""+e+"@"},e.cursorUp=function(e){return""+e+"A"},e.cursorDown=function(e){return""+e+"B"},e.cursorForward=function(e){return""+e+"C"},e.cursorBackward=function(e){return""+e+"D"},e.cursorNextLine=function(e){return""+e+"E"},e.cursorPrecedingLine=function(e){return""+e+"F"},e.cursorColumn=function(e){return""+e+"G"},e.cursorPosition=function(e,t){return""+e+";"+t+"H"},e.eraseInDisplay=function(e){return""+e+"J"},e.eraseSelectiveThingsInDisplay=function(e){return"?"+e+"J"},e.eraseInLine=function(e){return""+e+"K"},e.eraseSelectiveThingsInLine=function(e){return"?"+e+"K"},e.insertLines=function(e){return""+e+"L"},e.deleteLines=function(e){return""+e+"M"},e.deleteCharacter=function(e){return""+e+"P"},e.scrollUpLines=function(e){return""+e+"S"},e.scrollDownLines=function(e){return""+e+"T"},e.eraseCharacters=function(e){return""+e+"X"},e}(),m={Below:0,Above:1,All:2,SavedLines:3};m[m.Below]="Below",m[m.Above]="Above",m[m.All]="All",m[m.SavedLines]="SavedLines";var d={Right:0,Left:1,All:2};d[d.Right]="Right",d[d.Left]="Left",d[d.All]="All",e.FunctionsUsingCSI=p,e.KindOfEraseInDisplay=m,e.KindOfEraseInLine=d,e.NgTerminalComponent=a,e.NgTerminalModule=c,e.NgTerminalService=u,e.ɵa=l,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-terminal.umd.min.js.map